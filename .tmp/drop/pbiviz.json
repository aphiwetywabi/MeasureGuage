{"visual":{"name":"objTest","displayName":"ObjTest","guid":"PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5_DEBUG","visualClassName":"Visual","version":"1.0.0","description":"","supportUrl":"","gitHubUrl":""},"apiVersion":"1.3.0","author":{"name":"","email":""},"assets":{"icon":"assets/icon.png"},"externalJS":[],"style":"style/visual.less","capabilities":{"dataRoles":[{"displayName":"Category Data","name":"category","kind":"Grouping"},{"displayName":"Measure Data","name":"measure","kind":"Measure"}],"dataViewMappings":[{"categorical":{"categories":{"for":{"in":"category"},"dataReductionAlgorithm":{"top":{}}},"values":{"select":[{"bind":{"to":"measure"}}]}}}],"objects":{"customProperties":{"displayName":"Properties","properties":{"defaultTitle":{"displayName":"Default Title","type":{"text":true}},"redColor":{"displayName":"Red Color","type":{"fill":{"solid":{"color":true}}}},"yellowColor":{"displayName":"Yellow Color ","type":{"fill":{"solid":{"color":true}}}},"greenColor":{"displayName":"Green Color","type":{"fill":{"solid":{"color":true}}}},"gaugeMaxValue":{"displayName":"Maximum","type":{"text":true}},"yellowStartValue":{"displayName":"Yellow From","type":{"text":true}},"yellowEndValue":{"displayName":"Yellow To","type":{"text":true}},"redStartValue":{"displayName":"Red From","type":{"text":true}},"redEndValue":{"displayName":"Red To","type":{"text":true}},"maximumValue":{"displayName":"Maximum","type":{"text":true}},"minimumValue":{"displayName":"Minimum","type":{"text":true}},"temperatureValue":{"displayName":"Temperature","type":{"text":true}},"gaugeTitle":{"displayName":"Title text","type":{"text":true}},"greenStartValue":{"displayName":"Green from","type":{"text":true}},"greenEndValue":{"displayName":"Green to","type":{"text":true}},"minorTickValue":{"displayName":"Tick number","type":{"text":true}}}}}},"content":{"js":"var powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var visual;\r\n        (function (visual) {\r\n            var PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5;\r\n            (function (PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5) {\r\n                var Visual = (function () {\r\n                    function Visual(options) {\r\n                        this.target = options.element;\r\n                        this.updateCount = 0;\r\n                        this.customTitle = \"Aphiwe sucks\";\r\n                        this.gaugeMaxValue = \"MyName\";\r\n                    }\r\n                    Visual.prototype.update = function (options) {\r\n                        var dataView = options.dataViews[0];\r\n                        var categorical = dataView.categorical;\r\n                        this.height = options.viewport.height;\r\n                        this.width = options.viewport.width;\r\n                        var height = parseInt(this.width.toString());\r\n                        var width = parseInt(this.height.toString());\r\n                        var redColorInitial;\r\n                        var yellowColorInitial;\r\n                        var greenColorInitial;\r\n                        try {\r\n                            redColorInitial = '#DC3912';\r\n                            yellowColorInitial = '#FF9900';\r\n                            greenColorInitial = '#109618';\r\n                        }\r\n                        catch (err) {\r\n                        }\r\n                        this.redColorText = redColorInitial;\r\n                        this.yellowColorText = yellowColorInitial;\r\n                        this.greenColorText = greenColorInitial;\r\n                        this.title = \"Title\";\r\n                        try {\r\n                            var properties = dataView.metadata.objects[\"customProperties\"];\r\n                            this.yellowStart = properties[\"yellowStartValue\"];\r\n                            this.yellowEnd = properties[\"yellowEndValue\"];\r\n                            this.redStart = properties[\"redStartValue\"];\r\n                            this.redEnd = properties[\"redEndValue\"];\r\n                            this.greenStart = properties[\"greenStartValue\"];\r\n                            this.greenEnd = properties[\"greenEndValue\"];\r\n                            this.maximum = properties[\"maximumValue\"];\r\n                            this.minimum = properties[\"minimumValue\"];\r\n                            this.tickValue = properties[\"minorTickValue\"];\r\n                            this.temperature = properties[\"temperatureValue\"];\r\n                            this.title = properties[\"gaugeTitle\"];\r\n                            this.redColorText = (properties[\"redColor\"][\"solid\"][\"color\"]);\r\n                            this.yellowColorText = (properties[\"yellowColor\"][\"solid\"][\"color\"]);\r\n                            this.greenColorText = (properties[\"greenColor\"][\"solid\"][\"color\"]);\r\n                        }\r\n                        catch (r) {\r\n                        }\r\n                        var redColorValue = this.redColorText;\r\n                        var yellowColorValue = this.yellowColorText;\r\n                        var greenColorValue = this.greenColorText;\r\n                        var titleValue = this.title;\r\n                        var maximumInt = 100;\r\n                        var minimumInt = 0;\r\n                        var redEndInt = 0;\r\n                        var redStartInt = 0;\r\n                        var yellowEndInt = 0;\r\n                        var yellowStartInt = 0;\r\n                        var greenEndInt = 0;\r\n                        var greenStartInt = 0;\r\n                        var temperatureInt = 0;\r\n                        var numberTicks = 10;\r\n                        debugger;\r\n                        this.target.innerHTML = \"<div id='chart_div'></div>\";\r\n                        if (Number(parseInt(this.maximum))) {\r\n                            maximumInt = parseInt(this.maximum);\r\n                        }\r\n                        if (Number(parseInt(this.minimum))) {\r\n                            minimumInt = parseInt(this.minimum);\r\n                        }\r\n                        if (Number(parseInt(this.tickValue.trim())) && parseInt(this.tickValue.trim()) >= 0) {\r\n                            numberTicks = parseInt(this.tickValue.trim());\r\n                        }\r\n                        if (Number(parseInt(this.redStart)) && Number(parseInt(this.redEnd))) {\r\n                            redStartInt = parseInt(this.redStart);\r\n                            redEndInt = parseInt(this.redEnd);\r\n                        }\r\n                        if (Number(parseInt(this.yellowStart)) && (Number(parseInt(this.yellowEnd)))) {\r\n                            yellowStartInt = parseInt(this.yellowStart);\r\n                            yellowEndInt = parseInt(this.yellowEnd);\r\n                        }\r\n                        if (Number(parseInt(this.greenStart)) && Number(parseInt(this.greenEnd))) {\r\n                            greenStartInt = parseInt(this.greenStart);\r\n                            greenEndInt = parseInt(this.greenEnd);\r\n                        }\r\n                        if (Number(parseInt(this.temperature))) {\r\n                            temperatureInt = parseInt(this.temperature);\r\n                        }\r\n                        if (redColorValue === 'undefined') {\r\n                            redColorValue = redColorInitial;\r\n                        }\r\n                        if (yellowColorValue === 'undefined') {\r\n                            yellowColorValue = yellowColorInitial;\r\n                        }\r\n                        if (greenColorValue.toString() === 'undefined') {\r\n                            greenColorValue = greenColorInitial;\r\n                        }\r\n                        this.loadScript(\"https://www.gstatic.com/charts/loader.js\", function () {\r\n                            google.charts.load('current', { packages: ['gauge'] });\r\n                            var data = google.visualization.arrayToDataTable([\r\n                                ['Label', 'Value'],\r\n                                [titleValue, temperatureInt]\r\n                            ]);\r\n                            var options = {\r\n                                width: width, height: height,\r\n                                redFrom: redStartInt, redTo: redEndInt,\r\n                                redColor: redColorValue,\r\n                                yellowFrom: yellowStartInt, yellowTo: yellowEndInt,\r\n                                yellowColor: yellowColorValue,\r\n                                greenFrom: greenStartInt, greenTo: greenEndInt,\r\n                                greenColor: greenColorValue,\r\n                                minorTicks: numberTicks,\r\n                                max: maximumInt,\r\n                                min: minimumInt\r\n                            };\r\n                            var chart = new google.visualization.Gauge(document.getElementById('chart_div'));\r\n                            chart.draw(data, options);\r\n                        });\r\n                    };\r\n                    Visual.prototype.loadScript = function (url, callback) {\r\n                        var head = document.getElementsByTagName(\"head\")[0];\r\n                        var script = document.createElement('script');\r\n                        script.type = 'text/javascript';\r\n                        script.src = url;\r\n                        script.onload = callback;\r\n                        head.appendChild(script);\r\n                    };\r\n                    Visual.prototype.enumerateObjectInstances = function (options) {\r\n                        var objectName = options.objectName;\r\n                        var objectEnumeration = [];\r\n                        if (objectName === \"customProperties\") {\r\n                            objectEnumeration.push({\r\n                                objectName: objectName,\r\n                                properties: {\r\n                                    gaugeTitle: this.title,\r\n                                    maximumValue: this.maximum,\r\n                                    minimumValue: this.minimum,\r\n                                    redStartValue: this.redStart,\r\n                                    redEndValue: this.redEnd,\r\n                                    redColor: this.redColorText,\r\n                                    yellowStartValue: this.yellowStart,\r\n                                    yellowEndValue: this.yellowEnd,\r\n                                    yellowColor: this.yellowColorText,\r\n                                    greenStartValue: this.greenStart,\r\n                                    greenEndValue: this.greenEnd,\r\n                                    greenColor: this.greenColorText,\r\n                                    minorTickValue: this.tickValue\r\n                                },\r\n                                selector: null\r\n                            });\r\n                        }\r\n                        return objectEnumeration;\r\n                    };\r\n                    return Visual;\r\n                }());\r\n                PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5.Visual = Visual;\r\n            })(PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5 = visual.PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5 || (visual.PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5 = {}));\r\n        })(visual = extensibility.visual || (extensibility.visual = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var visuals;\r\n    (function (visuals) {\r\n        var plugins;\r\n        (function (plugins) {\r\n            plugins.PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5_DEBUG = {\r\n                name: 'PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5_DEBUG',\r\n                displayName: 'ObjTest',\r\n                class: 'Visual',\r\n                version: '1.0.0',\r\n                apiVersion: '1.3.0',\r\n                create: function (options) { return new powerbi.extensibility.visual.PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5.Visual(options); },\r\n                custom: true\r\n            };\r\n        })(plugins = visuals.plugins || (visuals.plugins = {}));\r\n    })(visuals = powerbi.visuals || (powerbi.visuals = {}));\r\n})(powerbi || (powerbi = {}));\r\n//# sourceMappingURL=visual.js.map","css":".visual-PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5_DEBUG p {\n  font-size: 20px;\n  font-weight: bold;\n}\n.visual-PBI_CV_7E0C75FC_084D_40C1_838D_881B1B88E6F5_DEBUG p em {\n  background: yellow;\n  padding: 5px;\n}\n","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3NEY1QjA1NUQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NEY1QjA1NEQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Mjk5RDU1ODBGRDRFMDExQTcxQ0JFODI3ODBCQUE5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpDoNX0AAAI3SURBVHjarJRLSFVRFIY9t7SiRDGLoEEPCRJRaCSYkxCiFCXCF+LIMExQLkilgumgwkbdBuWDRC2EomhURCOjgagkXEgKLUKhidobM6H0+i34rxyPnuvEA5/rXPda/1l7739vJxKJxG3ls93+hEKhTILxJhgMftmsiPxdhHw4CfepeR8dCyjWwwB0kZy3iVgCoQ2ewnmXxhrBD7Cgr/ZQVA17fDRPw2UYhzK6G99IsBse6/0QNME+H8FT4EA/YiPqOgA1q4IMzBNuw6iKjkCpj+Av+AdnEEmD3bxfhzvuDk30HaEaLsEkXCO53rN+Bwg5qsvTuj/TjGYtx9nINhRmEx7AYWiFW7AXOuEcbPOUvIZ2mnrl+PkQUbNEh4QHNKUSDdsSBWEOlmxTEfvs26FL9Khe211if6Acgee+xo7xzMgBxfq9qPe3fgWBGN2lEnqtG9nExM7CV3jp3bDos2bKJB0nHFRxAxRpA/5CIXyHh5ABv6GZqd9dJ6iz2SjbxMMypGhJFtTlNzu3kK7xgDxpove8U66FK2A+s6nul5gVVMEL+Ak7lG/T+g9JcIOGar2CRUoogxMwpP/bLTJMB9bRhDbkk5bBUU0y3ES0xS04CBfN9RSHiY90vJK0BHaSzG9h2eejS3RJeVfdtrGzuGyd8CX7Yq6ExuCH63jaVMPkFOv6OibB6DKs2+VEQp+WYBoqERn2sVWWRNN0YurIfeL14U6YkpkLYCSG6e0yqdCxvKBLIm5FgAEAV0nKuwMYRUsAAAAASUVORK5CYII="}}